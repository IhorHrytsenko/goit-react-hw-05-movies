{"version":3,"sources":["style/App.module.css","style/Form.module.css","components/ApiService.js","views/HomeView.js","views/CastView.js","views/ReviewsView.js","views/MovieDetailView.js","views/SearchView.js","views/MoviesView.js","views/MainMenu.js","App.js","index.js","style/MovieDetailView.module.css"],"names":["module","exports","APIKEY","apiConnect","id","actors","reviews","String","length","fetch","then","response","json","error","console","log","HomeView","useState","movies","setMovies","location","useLocation","useEffect","api","results","map","movie","key","to","pathname","state","from","original_title","movieId","setActors","data","cast","actor","character","src","profile_path","width","alt","name","setReviews","review","author","content","history","useHistory","className","s","general","onClick","push","general__list","genetal__item","backdrop_path","vote_average","overview","genres","genre","path","CastView","ReviewsView","firstQuery","HistorySearch","result","setResult","query","search","form","onSubmit","event","preventDefault","target","value","search__input","type","search__btn","r","title","movieid","useParams","setMovie","substring","MovieDetailView","SearchView","menu","menu__item","menu__link","App","MainMenu","exact","component","Home","Movies","ReactDOM","render","StrictMode","document","querySelector"],"mappings":"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","file":"static/js/main.d8aa34f4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"App_menu__1xf_o\",\"menu__item\":\"App_menu__item__1RkuF\",\"menu__link\":\"App_menu__link__2o8Kt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search__btn\":\"Form_search__btn__3sNsV\",\"search__input\":\"Form_search__input__2WZ8w\",\"form\":\"Form_form__1dzem\"};","\r\nconst APIKEY = '6456edf8e78b4973f18f7c8d63cd4cb6';\r\n\r\nexport default function apiConnect (id = '', actors = false, reviews = false) {\r\n    try{\r\n\r\n        id = String(id);\r\n\r\n        if (id.length === 0 ){\r\n   return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${APIKEY}`)\r\n            .then(response => response.json())\r\n        }\r\n\r\n        if (id.length > 0 && actors !== true && reviews !== true ){\r\n        return fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${APIKEY}`)\r\n            .then(response => response.json()) \r\n        }\r\n\r\n        if (actors === true && id.length > 0){\r\n            return fetch(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=${APIKEY}`)\r\n            .then(response => response.json()) \r\n        }\r\n\r\n        if (reviews  === true && id.length > 0){\r\n            return fetch(`https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${APIKEY}`)\r\n            .then(response => response.json()) \r\n        }\r\n\r\n    }\r\n    catch(error){\r\n    return console.log(error);\r\n    }\r\n\r\n}\r\n\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport api from '../components/ApiService';\r\n\r\nconst HomeView = () => {\r\n\r\n  const [movies, setMovies] = useState(null);\r\n  const location = useLocation();\r\n\r\n  useEffect (() => {\r\n    api().then(setMovies);\r\n  },[])\r\n  \r\n  return (\r\n  <>\r\n   <h1>Популярное сегодня</h1>\r\n    <ul>\r\n    {movies && movies.results.map(movie => <li key={movie.id}> <Link to={{pathname: `/movies/${movie.id}`, state:{from: location},}}> {movie.original_title} </Link> </li>)}\r\n    </ul>\r\n  </>\r\n  ); \r\n}\r\n\r\nexport default HomeView;\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport api from '../components/ApiService';\r\n\r\nexport default function (movie){\r\n\r\n        const {movieId} = movie; \r\n        const [actors, setActors] = useState(null);\r\n    \r\n        useEffect(() => {\r\n            api(movieId, true).then(data => setActors(data.cast));\r\n        }, [movieId]) \r\n    \r\n        return (\r\n    \r\n            <ul>\r\n                {actors ?\r\n                actors.map(actor => <li key={actor.id}>\r\n                <p>{actor.character}</p>\r\n                <img src={actor.profile_path && `https://image.tmdb.org/t/p/w500${actor.profile_path}`} width=\"200px\" alt=\"Actor face\" />\r\n                <p> {actor.name} </p>\r\n                </li>\r\n                )\r\n                : <p>К сожалению, нет информации по актерам данного фильма</p>\r\n                }\r\n            </ul>\r\n       \r\n        )\r\n    \r\n}","import React, {useEffect, useState} from 'react';\r\nimport api from '../components/ApiService';\r\n\r\nexport default function (movie) {\r\n\r\n    const {movieId} = movie; \r\n    const [reviews, setReviews] = useState(null);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        api(movieId, false, true).then(data => setReviews(data.results)\r\n    );}, [movieId]) \r\n\r\n\r\n    return (\r\n\r\n        <ul>\r\n            {reviews && reviews.length > 0 ?\r\n            reviews.map(review => <li key={review.id}>\r\n            <p>Автор: {review.author}</p>\r\n            <p>{review.content}</p>    \r\n            </li>)\r\n            : <p>К сожалению, отзывов по данному фильну нет</p>\r\n            }\r\n        </ul>\r\n\r\n    )\r\n\r\n}\r\n","import React from \"react\";\r\nimport { Route, NavLink, Switch, useHistory } from 'react-router-dom';\r\nimport s from '../style/MovieDetailView.module.css';\r\nimport CastView from './CastView';\r\nimport ReviewsView from './ReviewsView';\r\n\r\nexport default function ({movie, location}) {\r\n\r\n\r\n    const history = useHistory();\r\n    // const location = useLocation();\r\n\r\n    console.log(location);\r\n\r\n    function goBack(){\r\n      history.push(location.state.from)\r\n\r\n    }\r\n\r\n    return(\r\n      <div>\r\n        <section className={s.general}>\r\n        {/* <NavLink to={firstQuery && `movie/?query=${firstQuery}`} className={s.general__back}>Назад</NavLink> */}\r\n        <button onClick={goBack}> Назад </button>\r\n          <ul className={s.general__list}>\r\n        <li className={s.genetal__item}>\r\n          <img alt='Плакат фильма' src={`https://image.tmdb.org/t/p/w500/${movie.backdrop_path}`} />\r\n        </li>\r\n    \r\n        <li className={s.genetal__item}>\r\n        <h2>{movie.original_title}</h2>\r\n        <p>Оценка пользователей: {(movie.vote_average * 10)}%</p>\r\n        <h2>Описание</h2>\r\n        <p>{movie.overview}</p>\r\n        <h2>Жанры</h2>\r\n        {movie.genres && movie.genres.map(genre => <span key={genre.id}> {genre.name} </span>)}\r\n        </li>\r\n        </ul>\r\n        </section>\r\n\r\n        <section className={s.general}>\r\n        <p>Дополнительная информация</p>\r\n        <ul>\r\n        <li>\r\n        <NavLink to={`/movies/${movie.id}/cast`}>Актеры</NavLink>\r\n        </li> \r\n        <li><NavLink to={`/movies/${movie.id}/reviews`}>Отзывы</NavLink></li> \r\n        </ul>\r\n        </section>\r\n\r\n\r\n        <Switch> \r\n\r\n        <Route path=\"/movies/:movieId/cast\">\r\n            <section className={s.general}>\r\n              <CastView movieId={movie.id}/>  \r\n            </section>         \r\n        </Route>\r\n\r\n        <Route path=\"/movies/:movieId/reviews\">\r\n            <section className={s.general}>\r\n              <ReviewsView movieId={movie.id}/>\r\n            </section>            \r\n        </Route>\r\n\r\n        </Switch> \r\n        </div>\r\n    )\r\n} \r\n\r\n\r\n\r\n\r\n//<NavLink to='/movies/:movieId/cast' component={CastView} exact>Актеры</NavLink>","import React, {useState, useEffect} from 'react';\r\nimport {NavLink, useLocation } from 'react-router-dom';\r\nimport s from '../style/Form.module.css';\r\n\r\n\r\nexport default function ({firstQuery, HistorySearch}){\r\n\r\n    const APIKEY = '6456edf8e78b4973f18f7c8d63cd4cb6';\r\n    const [result, setResult] = useState(null);\r\n    const location = useLocation();\r\n\r\n    useEffect(() => {\r\n\r\n        if(location.search === ''){\r\n            return;\r\n        }\r\n\r\n        HistorySearch(firstQuery);\r\n        api(firstQuery);\r\n\r\n    }, [location.search])\r\n\r\n    function api(query){\r\n\r\n        if(query){\r\n\r\n            HistorySearch(query);\r\n            try{    \r\n                    return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${APIKEY}&query=${query}`)\r\n                    .then(response => response.json())\r\n                    .then(data => setResult(data))\r\n                    \r\n            }\r\n            catch(error){\r\n                    return console.log(error);\r\n            }\r\n        }\r\n    }\r\n\r\n    function apiForm(event) {\r\n        \r\n        event.preventDefault();\r\n        const query = event.target[0].value;        \r\n        api(query);\r\n       \r\n    }\r\n \r\n    return (\r\n        <>\r\n        <form className={s.form} onSubmit={apiForm}>\r\n         <input className={s.search__input} /> \r\n            <button type=\"submit\" className={s.search__btn}>Найти</button>\r\n\r\n        {location.search === '' ?\r\n            <ul>\r\n                {result && result.results.map(r => \r\n                        \r\n                        <li key={r.id}> <NavLink to={{pathname: `${r.id}`, state:{from: location},}}> {r.title}</NavLink> </li> \r\n                    )\r\n                }\r\n            </ul>\r\n        \r\n          :  <ul>\r\n                {result && result.results.map(r => \r\n                        \r\n                        <li key={r.id}> <NavLink to={{pathname: `${r.id}`, state:{from: location},}}> {r.title}</NavLink> </li> \r\n                    )\r\n                }\r\n            </ul>\r\n        \r\n        }\r\n\r\n\r\n        </form>\r\n        </>\r\n    )\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport api from \"../components/ApiService\";\r\nimport { useParams, useLocation, useHistory } from \"react-router-dom\";\r\nimport MovieDetailView from './MovieDetailView';\r\nimport SearchView from './SearchView';\r\n\r\n\r\nexport default function () {\r\n\r\n    const {movieid} = useParams();\r\n    const [movie, setMovie] = useState(null);\r\n    const location = useLocation();\r\n    const history = useHistory()\r\n\r\n    const firstQuery = location.search.substring(7, location.search.length);\r\n\r\n    \r\n    useEffect(() => {\r\n        api(movieid).then(data => setMovie(data))\r\n    }, [movieid])\r\n\r\n    function HistorySearch(query){\r\n\r\n        history.push({\r\n            ...location,\r\n           search: `query=${query}`});\r\n    }\r\n\r\n    console.log(location);\r\n\r\n    return(\r\n      <>  \r\n\r\n        { movieid && movie\r\n        ? <MovieDetailView movie = {movie} \r\n                    location= {location}\r\n        />\r\n        : <SearchView firstQuery = {firstQuery}\r\n                HistorySearch = {HistorySearch}\r\n        />\r\n        }\r\n\r\n    </>\r\n    )\r\n\r\n} ","import React from \"react\";\r\nimport {NavLink} from 'react-router-dom';\r\nimport s from '../style/App.module.css';\r\n\r\nexport default function() {\r\n\r\n    return (\r\n        <ul className={s.menu}>\r\n        <li className={s.menu__item}><NavLink to=\"/\" className={s.menu__link}>Главная</NavLink></li>  \r\n        <li className={s.menu__item}><NavLink to=\"/movies/\" className={s.menu__link}>Фильмы</NavLink></li>\r\n        </ul>\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\nimport {Route, Switch} from 'react-router-dom';\nimport Home from './views/HomeView';\nimport Movies from './views/MoviesView';\nimport SearchView from './views/SearchView';\nimport MainMenu from './views/MainMenu';\n\n\n\nconst App = () => (\n    <>\n    <MainMenu />\n\n    <Switch>\n      <Route path='/' exact component={Home} ></Route>\n      <Route path='/movies/:movieid' component={Movies}></Route>\n      <Route path='/movies?query=:query'  component={SearchView}></Route>\n      <Route path='/movies/' exact component={Movies}></Route>\n\n      <Route component={Home}></Route>\n    </Switch>\n\n    </>\n  );\n\n\nexport default App;\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n  <BrowserRouter>\n      <App />\n  </BrowserRouter>\n  </React.StrictMode>,\n  document.querySelector('#root'),\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"general\":\"MovieDetailView_general__HgSio\",\"general__list\":\"MovieDetailView_general__list__Sb8Ge\",\"genetal__item\":\"MovieDetailView_genetal__item__1uJ0_\",\"general__back\":\"MovieDetailView_general__back__22wu8\"};"],"sourceRoot":""}
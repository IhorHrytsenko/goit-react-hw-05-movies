(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{10:function(e,t,n){e.exports={menu:"App_menu__1xf_o",menu__item:"App_menu__item__1RkuF",menu__link:"App_menu__link__2o8Kt"}},12:function(e,t,n){e.exports={search__btn:"Form_search__btn__3sNsV",search__input:"Form_search__input__2WZ8w",form:"Form_form__1dzem"}},20:function(e,t,n){e.exports=n(34)},25:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(17),l=n.n(r),i=n(3),o=(n(25),n(1)),m=n(7),u="6456edf8e78b4973f18f7c8d63cd4cb6";function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{if(0===(e=String(e)).length)return fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(u)).then((function(e){return e.json()}));if(e.length>0&&!0!==t&&!0!==n)return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(u)).then((function(e){return e.json()}));if(!0===t&&e.length>0)return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(u)).then((function(e){return e.json()}));if(!0===n&&e.length>0)return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(u)).then((function(e){return e.json()}))}catch(a){return console.log(a)}}var _=function(){var e=Object(a.useState)(null),t=Object(m.a)(e,2),n=t[0],r=t[1],l=Object(o.g)();return Object(a.useEffect)((function(){s().then(r)}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"),c.a.createElement("ul",null,n&&n.results.map((function(e){return c.a.createElement("li",{key:e.id}," ",c.a.createElement(i.b,{to:{pathname:"/movies/".concat(e.id),state:{from:l}}}," ",e.original_title," ")," ")}))))},f=n(15),h=n(8),p=n.n(h),E=function(e){var t=e.movieId,n=Object(a.useState)(null),r=Object(m.a)(n,2),l=r[0],i=r[1];return Object(a.useEffect)((function(){s(t,!0).then((function(e){return i(e.cast)}))}),[t]),c.a.createElement("ul",null,l?l.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement("p",null,e.character),c.a.createElement("img",{src:e.profile_path&&"https://image.tmdb.org/t/p/w500".concat(e.profile_path),width:"200px",alt:"Actor face"}),c.a.createElement("p",null," ",e.name," "))})):c.a.createElement("p",null,"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043f\u043e \u0430\u043a\u0442\u0435\u0440\u0430\u043c \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0444\u0438\u043b\u044c\u043c\u0430"))},g=function(e){var t=e.movieId,n=Object(a.useState)(null),r=Object(m.a)(n,2),l=r[0],i=r[1];return Object(a.useEffect)((function(){s(t,!1,!0).then((function(e){return i(e.results)}))}),[t]),c.a.createElement("ul",null,l&&l.length>0?l.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement("p",null,"\u0410\u0432\u0442\u043e\u0440: ",e.author),c.a.createElement("p",null,e.content))})):c.a.createElement("p",null,"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043e\u0442\u0437\u044b\u0432\u043e\u0432 \u043f\u043e \u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0444\u0438\u043b\u044c\u043d\u0443 \u043d\u0435\u0442"))},v=function(e){var t=e.movie,n=e.location,a=Object(o.f)();return console.log(n),c.a.createElement("div",null,c.a.createElement("section",{className:p.a.general},c.a.createElement("button",{onClick:function(){a.push(n.state.from)}}," \u041d\u0430\u0437\u0430\u0434 "),c.a.createElement("ul",{className:p.a.general__list},c.a.createElement("li",{className:p.a.genetal__item},c.a.createElement("img",{alt:"\u041f\u043b\u0430\u043a\u0430\u0442 \u0444\u0438\u043b\u044c\u043c\u0430",src:"https://image.tmdb.org/t/p/w500/".concat(t.backdrop_path)})),c.a.createElement("li",{className:p.a.genetal__item},c.a.createElement("h2",null,t.original_title),c.a.createElement("p",null,"\u041e\u0446\u0435\u043d\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: ",10*t.vote_average,"%"),c.a.createElement("h2",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),c.a.createElement("p",null,t.overview),c.a.createElement("h2",null,"\u0416\u0430\u043d\u0440\u044b"),t.genres&&t.genres.map((function(e){return c.a.createElement("span",{key:e.id}," ",e.name," ")}))))),c.a.createElement("section",{className:p.a.general},c.a.createElement("p",null,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(i.c,{to:"/movies/".concat(t.id,"/cast")},"\u0410\u043a\u0442\u0435\u0440\u044b")),c.a.createElement("li",null,c.a.createElement(i.c,{to:"/movies/".concat(t.id,"/reviews")},"\u041e\u0442\u0437\u044b\u0432\u044b")))),c.a.createElement(o.c,null,c.a.createElement(o.a,{path:"/movies/:movieId/cast"},c.a.createElement("section",{className:p.a.general},c.a.createElement(E,{movieId:t.id}))),c.a.createElement(o.a,{path:"/movies/:movieId/reviews"},c.a.createElement("section",{className:p.a.general},c.a.createElement(g,{movieId:t.id})))))},b=n(12),d=n.n(b),j=function(e){var t=e.firstQuery,n=e.HistorySearch,r=Object(a.useState)(null),l=Object(m.a)(r,2),u=l[0],s=l[1],_=Object(o.g)();function f(e){if(e){n(e);try{return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("6456edf8e78b4973f18f7c8d63cd4cb6","&query=").concat(e)).then((function(e){return e.json()})).then((function(e){return s(e)}))}catch(t){return console.log(t)}}}return Object(a.useEffect)((function(){""!==_.search&&(n(t),f(t))}),[_.search]),c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:d.a.form,onSubmit:function(e){e.preventDefault(),f(e.target[0].value)}},c.a.createElement("input",{className:d.a.search__input}),c.a.createElement("button",{type:"submit",className:d.a.search__btn},"\u041d\u0430\u0439\u0442\u0438"),(_.search,c.a.createElement("ul",null,u&&u.results.map((function(e){return c.a.createElement("li",{key:e.id}," ",c.a.createElement(i.c,{to:{pathname:"".concat(e.id),state:{from:_}}}," ",e.title)," ")}))))))},y=function(){var e=Object(o.h)().movieid,t=Object(a.useState)(null),n=Object(m.a)(t,2),r=n[0],l=n[1],i=Object(o.g)(),u=Object(o.f)(),_=i.search.substring(7,i.search.length);return Object(a.useEffect)((function(){s(e).then((function(e){return l(e)}))}),[e]),console.log(i),c.a.createElement(c.a.Fragment,null,e&&r?c.a.createElement(v,{movie:r,location:i}):c.a.createElement(j,{firstQuery:_,HistorySearch:function(e){u.push(Object(f.a)(Object(f.a)({},i),{},{search:"query=".concat(e)}))}}))},O=n(10),k=n.n(O),w=function(){return c.a.createElement("ul",{className:k.a.menu},c.a.createElement("li",{className:k.a.menu__item},c.a.createElement(i.c,{to:"/",className:k.a.menu__link},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),c.a.createElement("li",{className:k.a.menu__item},c.a.createElement(i.c,{to:"/movies/",className:k.a.menu__link},"\u0424\u0438\u043b\u044c\u043c\u044b")))},N=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(w,null),c.a.createElement(o.c,null,c.a.createElement(o.a,{path:"/",exact:!0,component:_}),c.a.createElement(o.a,{path:"/movies/:movieid",component:y}),c.a.createElement(o.a,{path:"/movies?query=:query",component:j}),c.a.createElement(o.a,{path:"/movies/",exact:!0,component:y}),c.a.createElement(o.a,{component:_})))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i.a,null,c.a.createElement(N,null))),document.querySelector("#root"))},8:function(e,t,n){e.exports={general:"MovieDetailView_general__HgSio",general__list:"MovieDetailView_general__list__Sb8Ge",genetal__item:"MovieDetailView_genetal__item__1uJ0_",general__back:"MovieDetailView_general__back__22wu8"}}},[[20,1,2]]]);
//# sourceMappingURL=main.d8aa34f4.chunk.js.map